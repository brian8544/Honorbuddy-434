<!-- Credits to original author and developer / behavior developer, Natfoth -->
<HBProfile xsi:noNamespaceSchemaLocation="../../../Schemas/QuestProfileSchema.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <!-- Original contribution by Kickazz006 -->
    <Name>[A - Quest] Worgen 1-12 [Kick] ($ShortHash$)</Name>

    <MinLevel>1</MinLevel>
    <MaxLevel>1001</MaxLevel>

    <MinDurability>0.3</MinDurability>
    <MinFreeBagSlots>3</MinFreeBagSlots>

    <!-- NB: Honorbuddy sells before mailing -->
    <SellGrey>true</SellGrey>
    <SellWhite>true</SellWhite>
    <SellGreen>true</SellGreen>
    <SellBlue>false</SellBlue>
    <SellPurple>false</SellPurple>

    <MailGrey>false</MailGrey>
    <MailWhite>true</MailWhite>
    <MailGreen>true</MailGreen>
    <MailBlue>true</MailBlue>
    <MailPurple>true</MailPurple>

    <TargetElites>false</TargetElites>


    <AvoidMobs>
        <Mob Name="Horrid Abomination" Id="36231" />
        <Mob Name="Koroth the Hillbreaker" Id="36294" />
        <Mob Name="Koroth the Hillbreaker" Id="36528" />
    </AvoidMobs>


    <Blackspots>
        <Blackspot X="-1348.401" Y="2311.289" Z="49.86522" Radius="17.08508" />
        <Blackspot X="-1362.365" Y="2369.774" Z="58.3547" Radius="6.238815" />
        <Blackspot X="-1337.623" Y="2377.82" Z="56.94869" Radius="6.194028" />
        <Blackspot Name="Evading Mob" X="-1161.621" Y="1146.598" Z="24.4395" Radius="13.39427" />
        <Blackspot X="-1469.479" Y="1410.987" Z="35.55602" Radius="10.03933" />
        <Blackspot X="-1469.433" Y="1411.747" Z="35.55615" Radius="1.97401" />
    </Blackspots>


    <Mailboxes>
    </Mailboxes>


    <Vendors>
        <!-- Empty on purpose -->
    </Vendors>


    <!-- BEGIN: Quest Overrides -->
    <Quest Id="14382" Name="Two By Sea">
        <Objective Type="KillMob" MobId="36397" KillCount="1">
            <Hotspots>
                <Hotspot X="-2100.524" Y="2691.794" Z="1.314234" />
            </Hotspots>
        </Objective>
        <Objective Type="KillMob" MobId="36399" KillCount="1">
            <Hotspots>
                <Hotspot X="-2197.342" Y="2594.982" Z="1.723549" />
            </Hotspots>
        </Objective>
    </Quest>

    <Quest Id="14204" Name="From the Shadows">
        <Objective Type="KillMob" MobId="35463" KillCount="6">
            <Hotspots>
                <Hotspot X="-1804.415" Y="1464.103" Z="18.97089" />
                <Hotspot X="-1790.869" Y="1478.854" Z="20.08447" />
                <Hotspot X="-1799.824" Y="1507.649" Z="19.78082" />
                <Hotspot X="-1761.134" Y="1498.982" Z="26.22322" />
            </Hotspots>
        </Objective>
    </Quest>

    <Quest Id="14348" Name="You Can't Take 'Em Alone">
        <Objective Type="CollectItem" ItemId="49202" CollectCount="4">
            <CollectFrom>
                <Object Name="Black Gunpowder Keg" Id="196403" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="-1988.496" Y="2314.655" Z="29.41515" />
                <Hotspot X="-1954.532" Y="2291.891" Z="36.73601" />
                <Hotspot X="-1947.174" Y="2328.636" Z="34.20702" />
                <Hotspot X="-1928.247" Y="2404.247" Z="29.86127" />
                <Hotspot X="-1965.728" Y="2383.5" Z="27.67166" />
            </Hotspots>
        </Objective>
    </Quest>

    <Quest Id="24468" Name="Stranded at the Marsh">
        <Objective Type="KillMob" MobId="37078" KillCount="5">
            <Hotspots>
                <Hotspot X="-1979.253" Y="1783.886" Z="4.983235" />
                <Hotspot X="-2007.32" Y="1816.057" Z="6.26105" />
                <Hotspot X="-2042.232" Y="1818.316" Z="6.512903" />
                <Hotspot X="-2074.618" Y="1800.981" Z="5.387658" />
                <Hotspot X="-2084.275" Y="1744.054" Z="5.295431" />
                <Hotspot X="-2042.933" Y="1749.583" Z="6.801232" />
            </Hotspots>
        </Objective>
    </Quest>

    <Quest Id="24575" Name="Liberation Day">
        <Objective Type="UseObject" ObjectId="201775" UseCount="5">
            <Hotspots>
                <Hotspot X="-1080.384" Y="906.715" Z="36.04615" />
                <Hotspot X="-1074.316" Y="873.9337" Z="36.24789" />
                <Hotspot X="-1065.262" Y="854.0349" Z="36.39631" />
                <Hotspot X="-1095.497" Y="836.9601" Z="36.54958" />
                <Hotspot X="-1171.349" Y="876.4576" Z="23.07127" />
                <Hotspot X="-1181.231" Y="951.5952" Z="28.48172" />
            </Hotspots>
        </Objective>
        <Objective Type="CollectItem" ItemId="49881" CollectCount="5">
            <Hotspots>
            </Hotspots>
        </Objective>
    </Quest>

    <Quest Id="24930" Name="While You're At It">
        <Objective Type="KillMob" MobId="35118" KillCount="5">
            <Hotspots>
                <Hotspot X="-1717.308" Y="1406.42" Z="21.66892" />
                <Hotspot X="-1746.205" Y="1428.845" Z="52.74287" />
                <Hotspot X="-1717.31" Y="1458.056" Z="52.74144" />
            </Hotspots>
        </Objective>
    </Quest>

    <Quest Id="14404" Name="Not Quite Shipshape">
        <Objective Type="CollectItem" ItemId="49337" CollectCount="1">
            <!-- Tools -->
            <CollectFrom>
                <Object Name="Shipwright's Tools" Id="196810" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="-2361.264" Y="2262.998" Z="1.64015" />
            </Hotspots>
        </Objective>
        <Objective Type="CollectItem" ItemId="49338" CollectCount="1">
            <!-- Wood -->
            <CollectFrom>
                <Object Name="Planks of Wood" Id="196809" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="-2344.763" Y="2302.812" Z="0.442629" />
            </Hotspots>
        </Objective>
        <Objective Type="CollectItem" ItemId="49339" CollectCount="1">
            <!-- Tar -->
            <CollectFrom>
                <Object Name="Barrel of Coal Tar" Id="196808" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="-2336.644" Y="2260.659" Z="0.3302902" />
            </Hotspots>
        </Objective>
    </Quest>

    <Quest Id="24472" Name="Introductions Are in Order">
        <Objective Type="KillMob" MobId="36293" KillCount="4">
            <Hotspots>
                <Hotspot X="-2321.885" Y="1958.328" Z="82.61827" />
                <Hotspot X="-2383.587" Y="1997.927" Z="71.99458" />
                <Hotspot X="-2337.18" Y="1922.664" Z="72.95004" />
                <Hotspot X="-2344.151" Y="1799.271" Z="13.41761" />
                <Hotspot X="-2412.197" Y="1784.099" Z="7.061558" />
            </Hotspots>
        </Objective>
        <Objective Type="CollectItem" ItemId="49742" CollectCount="1">
            <CollectFrom>
            </CollectFrom>
            <Hotspots>
                <Hotspot X="-2281.625" Y="1970.553" Z="97.35085" />
            </Hotspots>
        </Objective>
    </Quest>

    <!-- END: Quest Overrides -->


    <QuestOrder IgnoreCheckpoints="true" >
        <!-- BEGIN: Checkpoint Block
             This code needs to be replicated after every checkpoint.
             If you modify something in this block, don't forget to update the copy of this
             block after each checkpoint, and the at the start of the <QuestOrder>, also.
        -->
        <CustomBehavior File="Misc\RunLua" Lua="SetCVar('AutoLootDefault', 1)" />
        

        <CustomBehavior File="EnablePlugin" Names="Anti Drown" />
        <CustomBehavior File="EnablePlugin" Names="Questhelper - ItemForAura" />
        <CustomBehavior File="EnablePlugin" Names="Refreshment Detection" />

        <CustomBehavior File="Misc\ProfileCompatibilityInfo" AllowBrokenAddOns="true" AllowBrokenPlugIns="true" />

        <LootMobs Value="true" />
        <TargetingDistance Value="null" />    <!-- Use LevelBot default -->
        <UseMount Value="true" />
        <!-- END: Checkpoint Block -->


        <CustomBehavior File="Message" Text="Compiling Pre-Bitten Quests" LogColor="CornflowerBlue" />

        <If Condition="!IsQuestCompleted(26385)" >
            <SetVendor>
                <Vendors>
                    <Vendor Name="Marie Allen" Id="43558" Type="Repair" X="-2456.46" Y="1539.8" Z="18.69155" />
                    <Vendor Name="Karen Murray" Id="42853" Type="Repair" X="-1354.778" Y="1203.944" Z="35.15623" />
                    <Vendor Name="Marie Allen" Id="38783" Type="Repair" X="-1314.288" Y="2146.639" Z="6.887578" />
                    <Vendor Name="Samantha Buckley" Id="36695" Type="Repair" X="-1894.104" Y="2299.844" Z="44.16436" />
                </Vendors>
            </SetVendor>
        </If>

        <PickUp QuestName="Lockdown!" QuestId="14078" GiverName="Prince Liam Greymane" GiverId="34850" />
        <TurnIn QuestName="Lockdown!" QuestId="14078" TurnInName="Lieutenant Walden" TurnInId="34863" />
        <PickUp QuestName="Something's Amiss" QuestId="14091" GiverName="Lieutenant Walden" GiverId="34863" />
        <TurnIn QuestName="Something's Amiss" QuestId="14091" TurnInName="Prince Liam Greymane" TurnInId="34913" />
        <PickUp QuestName="All Hell Breaks Loose" QuestId="14093" GiverName="Prince Liam Greymane" GiverId="34913" />
        <PickUp QuestName="Evacuate the Merchant Square" QuestId="14098" GiverName="Prince Liam Greymane" GiverId="34913" />
        <PickUp QuestName="Salvage the Supplies" QuestId="14094" GiverName="Gwen Armstead" GiverId="34936" />
        <While Condition="HasQuest(14098) &amp;&amp; !IsQuestCompleted(14098)">
            <CustomBehavior File="InteractWith" QuestId="14098" MobId="195327" NumOfTimes="10" Range="2"
                            WaitTime="3000" CollectionDistance="200" X="-1436.619" Y="1420.375" Z="35.5561" />
        </While>
        <Objective QuestName="Salvage the Supplies" QuestId="14094" Type="CollectItem" ItemId="46896" CollectCount="4" />
        <Objective QuestName="All Hell Breaks Loose" QuestId="14093" Type="KillMob" MobId="34884" KillCount="6" />
        <TurnIn QuestName="Salvage the Supplies" QuestId="14094" TurnInName="Gwen Armstead" TurnInId="34936" />
        <TurnIn QuestName="All Hell Breaks Loose" QuestId="14093" TurnInName="Prince Liam Greymane" TurnInId="34913" />
        <TurnIn QuestName="Evacuate the Merchant Square" QuestId="14098" TurnInName="Prince Liam Greymane" TurnInId="34913" />
        <PickUp QuestName="Royal Orders" QuestId="14099" GiverName="Prince Liam Greymane" GiverId="34913" />
        <TurnIn QuestName="Royal Orders" QuestId="14099" TurnInName="Gwen Armstead" TurnInId="35840" />

        <If Condition="Me.Class == WoWClass.Druid">
            <PickUp QuestName="The Winds Know Your Name... Apparently" QuestId="14280" GiverName="Gwen Armstead"
                    GiverId="35840" />
            <TurnIn QuestName="The Winds Know Your Name... Apparently" QuestId="14280"
                    TurnInName="Celestine of the Harvest" TurnInId="35873" />
            <PickUp QuestName="Safety in Numbers" QuestId="14291" GiverName="Celestine of the Harvest" GiverId="35873" />
            <TurnIn QuestName="Safety in Numbers" QuestId="14291" TurnInName="King Genn Greymane" TurnInId="35112" />
        </If>

        <If Condition="Me.Class == WoWClass.Hunter">
            <PickUp QuestName="Someone's Keeping Track of You" QuestId="14275" GiverName="Gwen Armstead" GiverId="35840" />
            <TurnIn QuestName="Someone's Keeping Track of You" QuestId="14275" TurnInName="Huntsman Blake" TurnInId="35874" />
            <PickUp QuestName="Safety in Numbers" QuestId="14290" GiverName="Huntsman Blake" GiverId="35874" />
            <TurnIn QuestName="Safety in Numbers" QuestId="14290" TurnInName="King Genn Greymane" TurnInId="35112" />
        </If>

        <If Condition="Me.Class == WoWClass.Mage">
            <PickUp QuestName="Arcane Inquiries" QuestId="14277" GiverName="Gwen Armstead" GiverId="35840" />
            <TurnIn QuestName="Arcane Inquiries" QuestId="14277" TurnInName="Myriam Spellwaker" TurnInId="35872" />
            <PickUp QuestName="Safety in Numbers" QuestId="14288" GiverName="Myriam Spellwaker" GiverId="35872" />
            <TurnIn QuestName="Safety in Numbers" QuestId="14288" TurnInName="King Genn Greymane" TurnInId="35112" />
        </If>

        <If Condition="Me.Class == WoWClass.Priest">
            <PickUp QuestName="Seek the Sister" QuestId="14278" GiverName="Gwen Armstead" GiverId="35840" />
            <TurnIn QuestName="Seek the Sister" QuestId="14278" TurnInName="Sister Almyra" TurnInId="35870" />
            <PickUp QuestName="Safety in Numbers" QuestId="14289" GiverName="Sister Almyra" GiverId="35870" />
            <TurnIn QuestName="Safety in Numbers" QuestId="14289" TurnInName="King Genn Greymane" TurnInId="35112" />
        </If>

        <If Condition="Me.Class == WoWClass.Rogue">
            <PickUp QuestName="Someone's Looking for You" QuestId="14269" GiverName="Gwen Armstead" GiverId="35840" />
            <TurnIn QuestName="Someone's Looking for You" QuestId="14269" TurnInName="Loren the Fence" TurnInId="35871" />
            <PickUp QuestName="Safety in Numbers" QuestId="14285" GiverName="Loren the Fence" GiverId="35871" />
            <TurnIn QuestName="Safety in Numbers" QuestId="14285" TurnInName="King Genn Greymane" TurnInId="35112" />
        </If>

        <If Condition="Me.Class == WoWClass.Warlock">
            <PickUp QuestName="Shady Associates" QuestId="14273" GiverName="Gwen Armstead" GiverId="35840" />
            <TurnIn QuestName="Shady Associates" QuestId="14273" TurnInName="Vitus Darkwalker" TurnInId="35869" />
            <PickUp QuestName="Safety in Numbers" QuestId="14287" GiverName="Vitus Darkwalker" GiverId="35869" />
            <TurnIn QuestName="Safety in Numbers" QuestId="14287" TurnInName="King Genn Greymane" TurnInId="35112" />
        </If>

        <If Condition="Me.Class == WoWClass.Warrior">
            <PickUp QuestName="Your Instructor" QuestId="14265" GiverName="Gwen Armstead" GiverId="35840" />
            <TurnIn QuestName="Your Instructor" QuestId="14265" TurnInName="Sergeant Cleese" TurnInId="35839" />
            <PickUp QuestName="Safety in Numbers" QuestId="14286" GiverName="Sergeant Cleese" GiverId="35839" />
            <TurnIn QuestName="Safety in Numbers" QuestId="14286" TurnInName="King Genn Greymane" TurnInId="35112" />
        </If>

        <PickUp QuestName="Old Divisions" QuestId="14157" GiverName="King Genn Greymane" GiverId="35112" />
        <PickUp QuestName="While You're At It" QuestId="24930" GiverName="Lord Godfrey" GiverId="35115" />
        <If Condition="HasQuest(14157)" >
            <CustomBehavior File="NoCombatMoveTo" X="-1752.176" Y="1417.577" Z="23.01927" />
            <TurnIn QuestName="Old Divisions" QuestId="14157" TurnInName="Captain Broderick" TurnInId="50371" />
        </If>
        <If Condition="!HasQuest(28850) &amp;&amp; !IsQuestCompleted(28850)" >
            <PickUp QuestName="The Prison Rooftop" QuestId="28850" GiverName="Captain Broderick" GiverId="50371" />
                <CustomBehavior File="WaitTimer" WaitTime="3000" GoalText="Waiting for quest to pickup {TimeRemaining}" />
        </If>
        <If Condition="HasQuest(28850)" >
            <TurnIn QuestName="The Prison Rooftop" QuestId="28850" TurnInName="Lord Darius Crowley" TurnInId="35077"
                    X="-1679.734" Y="1442.122" Z="52.28712" />
        </If>
        <PickUp QuestName="By the Skin of His Teeth" QuestId="14154" GiverName="Lord Darius Crowley" GiverId="35077"
                X="-1679.734" Y="1442.122" Z="52.28712" />
        <While Condition="HasQuest(14154) &amp;&amp; !IsQuestCompleted(14154)">
        <!-- CJ 30-Dec-2013: EscortGroup doesn't support a NonCompeteDistance of zero.  So, we set it to "1" here
             until an updated version of EscortGroup makes it into the Community.
        -->
            <CustomBehavior File="EscortGroup" QuestId="14154" EscortNpcId="35077" NonCompeteDistance="1" />
        </While>
        <TurnIn QuestName="By the Skin of His Teeth" QuestId="14154" TurnInName="Lord Darius Crowley" TurnInId="35077" />
        <PickUp QuestName="Brothers In Arms" QuestId="26129" GiverName="Lord Darius Crowley" GiverId="35077" />
        <Objective QuestName="While You're At It" QuestId="24930" Type="KillMob" MobId="35118" KillCount="5" />
        <If Condition="HasQuest(24930) &amp;&amp; IsQuestCompleted(24930)">
            <CustomBehavior File="NoCombatMoveTo" X="-1764.218" Y="1351.734" Z="19.78275"  />
        </If>
        <TurnIn QuestName="While You're At It" QuestId="24930" TurnInName="Lord Godfrey" TurnInId="35115" />
        <TurnIn QuestName="Brothers In Arms" QuestId="26129" TurnInName="King Genn Greymane" TurnInId="35112" />
        <PickUp QuestName="The Rebel Lord's Arsenal" QuestId="14159" GiverName="King Genn Greymane" GiverId="35112" />
        <If Condition="HasQuest(14159)" >
            <CustomBehavior File="InteractWith" MobId="195621" WaitTime="5000" NonCompeteDistance="0"
                            X="-1790.102" Y="1437.378" Z="21.29635" />

            <TurnIn QuestName="The Rebel Lord's Arsenal" QuestId="14159" TurnInName="Josiah Avery" TurnInId="35369" />
            <CustomBehavior File="WaitTimer" WaitTime="5000" />
        </If>

        <CustomBehavior File="Message" Text="Compiling Worgen (Wolf Form) Quests" LogColor="Green" />
        <CustomBehavior File="Message" Text="Compiling Bitten Quests" LogColor="CornflowerBlue" />

        <PickUp QuestName="From the Shadows" QuestId="14204" GiverName="Lorna Crowley" GiverId="35378" />
        <If Condition="HasQuest(14204)" >
            <Objective QuestName="From the Shadows" QuestId="14204" Type="KillMob" MobId="35463" KillCount="6" />
            <CustomBehavior File="NoCombatMoveTo" X="-1789.75" Y="1427.413" Z="12.93995" />
            <TurnIn QuestName="From the Shadows" QuestId="14204" TurnInName="Lorna Crowley" TurnInId="35378" />
        </If>
        <PickUp QuestName="Message to Greymane" QuestId="14214" GiverName="Lorna Crowley" GiverId="35378" />
        <TurnIn QuestName="Message to Greymane" QuestId="14214" TurnInName="King Genn Greymane" TurnInId="35550" />
        <PickUp QuestName="Save" QuestId="14293" GiverName="King Genn Greymane" GiverId="35550" />
        <If Condition="HasQuest(14293) &amp;&amp; !IsQuestCompleted(14293)">
            <CustomBehavior File="Vehicles\NoControlVehicle" QuestId="14293" VehicleMountId="68219" TargetId="35753"
                            AttackButton="1" VehicleId="35905" OftenToUse="1600" MaxRange="12" TypeId="1" />
            <CustomBehavior File="NoCombatMoveTo" X="-1785.66" Y="1437.613" Z="20.20581" />
            <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for agro to clear {TimeRemaining}" />
        </If>
        <If Condition="HasQuest(14293) &amp;&amp; IsQuestCompleted(14293)" >
            <DisableBehavior Name="Pull" />
            <TurnIn QuestName="Save Krennan Aranas" QuestId="14293" TurnInName="Lord Godfrey" TurnInId="35906" />
            <EnableBehavior Name="Pull" />
            <CustomBehavior File="WaitTimer" WaitTime="10000" GoalText="Waiting for event {TimeRemaining}" />
        </If>
        <PickUp QuestName="Time to Regroup" QuestId="14294" GiverName="Lord Godfrey" GiverId="35906" />
        <If Condition="HasQuest(14294)" >
            <CustomBehavior File="NoCombatMoveTo" X="-1741.657" Y="1658.126" Z="20.47891" />
            <TurnIn QuestName="Time to Regroup" QuestId="14294" TurnInName="King Genn Greymane" TurnInId="35911" />
        </If>
        <PickUp QuestName="Sacrifices" QuestId="14212" GiverName="Lord Darius Crowley" GiverId="35552"
                X="-1738.244" Y="1658.19" Z="20.479" />
        <If Condition="HasQuest(14212) &amp;&amp; !IsQuestCompleted(14212)">
            <CustomBehavior File="Vehicles\NoControlVehicle" QuestId="14212" VehicleMountId="44427" TargetId="35229"
                            AttackButton="1" OftenToUse="1600" NumOfTimes="33" VehicleId="35231" MaxRange="30" TypeId="2" />
            <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for agro to clear {TimeRemaining}" />
        </If>
        <TurnIn QuestName="Sacrifices" QuestId="14212" TurnInName="Tobias Mistmantle" TurnInId="35618" />
        <PickUp QuestName="By Blood and Ash" QuestId="14218" GiverName="Tobias Mistmantle" GiverId="35618" />
        <DisableBehavior Name="Pull" />
        <While Condition="HasQuest(14218) &amp;&amp; !IsQuestCompleted(14218)">
            <DisableBehavior Name="Combat" />
            <If Condition="Me.Shapeshift != ShapeshiftForm.Normal" >
                <CustomBehavior File="RunCode" Code="Me.GetAuraById(768).TryCancelAura();" />
            </If>
            <CustomBehavior File="Vehicles\CannonControl" VehicleId="35317" QuestId="14218" MobId="35229"
                            MaxAngle="0.436" MinAngle="-0.6108" Buttons="1" Velocity="100" Gravity="8"
                            X="-1524.081" Y="1569.992" Z="26.53791" TerminateAtMaxRunTimeSecs="60" />
            <EnableBehavior Name="Combat" />
            <CustomBehavior File="WaitTimer" WaitTime="3000" GoalText="Waiting for agro to clear {TimeRemaining}" />
        </While>
        <TurnIn QuestName="By Blood and Ash" QuestId="14218" TurnInName="Tobias Mistmantle" TurnInId="35618" />
        <PickUp QuestName="Never Surrender, Sometimes Retreat" QuestId="14221" GiverName="Tobias Mistmantle" GiverId="35618" />
        <If Condition="HasQuest(14221)" >
            <TurnIn QuestName="Never Surrender, Sometimes Retreat" QuestId="14221" TurnInName="Lord Darius Crowley" TurnInId="35566" />
        </If>
        <EnableBehavior Name="Pull" />
        <PickUp QuestName="Last Stand" QuestId="14222" GiverName="Lord Darius Crowley" GiverId="35566" />
        <Objective QuestName="Last Stand" QuestId="14222" Type="KillMob" MobId="35627" KillCount="8" />
        <DisableBehavior Name="All" />
        <If Condition="HasQuest(14222)" >

            <TurnIn QuestName="Last Stand" QuestId="14222" TurnInName="Lord Darius Crowley" TurnInId="35566" />
            <CustomBehavior File="WaitTimer" WaitTime="3000" GoalText="Waiting for video {TimeRemaining}" />
            <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame:IsVisible() then MovieFrame:StopMovie() else CinematicFrame_CancelCinematic() end" />
        </If>
        <If Condition="!IsQuestCompleted(14375) &amp;&amp; !IsQuestCompleted(14313)" >
            <CustomBehavior File="WaitTimer" WaitTime="52000" />
            <CustomBehavior File="InteractWith" TerminateWhen="IsQuestCompleted(14375)" NonCompeteDistance="0"
                            InteractByQuestFrameDisposition="Complete" MobId="36332" Range="8"
                            X="-1821.09" Y="2292.597" Z="42.10082" />
        </If>
        <EnableBehavior Name="All" />
        <CustomBehavior File="Message" Text="Compiling Island Quests" LogColor="Green" />
        <CustomBehavior File="Message" Text="Compiling Before Attack Quests" LogColor="CornflowerBlue" />

        <PickUp QuestName="Among Humans Again" QuestId="14313" GiverName="Lord Godfrey" GiverId="36170" />
        <TurnIn QuestName="Among Humans Again" QuestId="14313" TurnInName="Krennan Aranas" TurnInId="36132"
                X="-1861.249" Y="2263.837" Z="44.21695" />
        <PickUp QuestName="In Need of Ingredients" QuestId="14320" GiverName="Krennan Aranas" GiverId="36132" />
        <If Condition="HasQuest(14320)" >
            <TurnIn QuestName="In Need of Ingredients" QuestId="14320" TurnInName="Crate" TurnInId="196394" TurnInType="GameObject" X="-1924.789" Y="2407.548" Z="29.99359" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame:IsVisible() then MovieFrame:StopMovie() else CinematicFrame_CancelCinematic() end" WaitTime="2000" />
        </If>
        <PickUp QuestName="Invasion" QuestId="14321" GiverName="Slain Watchman" GiverId="36205" />
        <TurnIn QuestName="Invasion" QuestId="14321" TurnInName="Gwen Armstead" TurnInId="34571" />
        <If Condition="!HasQuest(14336) &amp;&amp; !IsQuestCompleted(14336)" >
            <PickUp QuestName="Kill or Be Killed" QuestId="14336" GiverName="Gwen Armstead" GiverId="34571" />
            <DisableBehavior Name="Pull" />
        </If>
        <TurnIn QuestName="Kill or Be Killed" QuestId="14336" TurnInName="Prince Liam Greymane" TurnInId="36140" />
        <PickUp QuestName="Hold the Line" QuestId="14347" GiverName="Prince Liam Greymane" GiverId="36140" />
        <PickUp QuestName="You Can't Take 'Em Alone" QuestId="14348" GiverName="Prince Liam Greymane" GiverId="36140" />
        <DisableBehavior Name="Pull" />
        <While Condition="HasQuest(14348) &amp;&amp; !IsQuestCompleted(14348)">
            <CustomBehavior File="InteractWith" QuestId="14348" MobId="196403"
                            NumOfTimes="10" TerminateWhen="HasItem(49202)" >
                 <HuntingGrounds>
                     <Hotspot X="-1988.496" Y="2314.655" Z="29.41515" />
                     <Hotspot X="-1954.532" Y="2291.891" Z="36.73601" />
                     <Hotspot X="-1947.174" Y="2328.636" Z="34.20702" />
                     <Hotspot X="-1928.247" Y="2404.247" Z="29.86127" />
                     <Hotspot X="-1965.728" Y="2383.5" Z="27.67166" />
                 </HuntingGrounds>
             </CustomBehavior>
             <CustomBehavior File="InteractWith" QuestId="14348" InteractByUsingItemId="49202" MobId="36231"
                             CollectionDistance="500" MobState="Alive"  AuraIdMissingFromMob="68555" WaitTime="7500"
                             Range="20" TerminateWhen="!HasItem(49202) || IsQuestCompleted(14348)"
                             X="-1928.829" Y="2374.512" Z="31.7461" />
        </While>
        <EnableBehavior Name="Pull" />
        <If Condition="HasQuest(14347) &amp;&amp; !IsQuestCompleted(14347)" >
            <Objective QuestName="Hold the Line" QuestId="14347" Type="KillMob" MobId="34511" KillCount="10" />
            <DisableBehavior Name="Pull" />
        </If>
        <TurnIn QuestName="Hold the Line" QuestId="14347" TurnInName="Prince Liam Greymane" TurnInId="36140" />
        <TurnIn QuestName="You Can't Take 'Em Alone" QuestId="14348" TurnInName="Prince Liam Greymane" TurnInId="36140" />
        <PickUp QuestName="Holding Steady" QuestId="14366" GiverName="Prince Liam Greymane" GiverId="36140" />
        <TurnIn QuestName="Holding Steady" QuestId="14366" TurnInName="Gwen Armstead" TurnInId="34571" />
        <If Condition="!HasQuest(14367) &amp;&amp; !IsQuestCompleted(14367)" >
            <PickUp QuestName="The Allens' Storm Cellar" QuestId="14367" GiverName="Gwen Armstead" GiverId="34571" />
            <CustomBehavior File="NoCombatMoveTo" X="-1882.678" Y="2543.867" Z="1.628508" />
        </If>
        <TurnIn QuestName="The Allens' Storm Cellar" QuestId="14367" TurnInName="Lord Godfrey" TurnInId="36290" />
        <PickUp QuestName="Two By Sea" QuestId="14382" GiverName="Lord Godfrey" GiverId="36290" />
        <PickUp QuestName="Unleash the Beast" QuestId="14369" GiverName="Lord Godfrey" GiverId="36290" />
        <PickUp QuestName="Save the Children!" QuestId="14368" GiverName="Melinda Hammond" GiverId="36291" />
        <While Condition="HasQuest(14382) &amp;&amp; !IsQuestCompleted(14382)">
            <CustomBehavior File="InteractWith" MobId="36292" NumOfTimes="100" CollectionDistance="200" MobState="DontCare" TerminateWhen="Me.InVehicle" >
                <HuntingGrounds>
                    <Hotspot X="-2018.948" Y="2643.801" Z="-1.468046" />
                    <Hotspot X="-2074.285" Y="2560.56" Z="1.462946" />
                </HuntingGrounds>
                <PursuitList>
                    <PursueUnit Id="36283" Priority="500" PursueWhen="UNIT.CanInteract" />
                    <PursueUnit Id="36292" Priority="1" PursueWhen="UNIT.IsAlive" />
                </PursuitList>
            </CustomBehavior>
            <If Condition="!IsObjectiveComplete(1, 14382) &amp;&amp; Me.InVehicle" >
                <DisableBehavior Name="Combat" />
                <MoveTo Precision="1" X="-2056.638" Y="2612.483" Z="0.5991626" />
                <CustomBehavior File="RunCode" Code="
                    Me.SetFacing(2.487444f);
                    await Coroutine.Sleep(1000);
                    Lua.DoString(&quot;CastPetAction(1);&quot;);
                    await Coroutine.Sleep(6000);
                " />
                <EnableBehavior Name="Combat" />
                <CustomBehavior File="KillUntilComplete" MobId="36397" QuestId="14382" QuestObjectiveIndex="1" X="-2100.524" Y="2691.794" Z="1.313946" />
                <MoveTo X="-2117.377" Y="2660.349" Z="8.179961" />
                <CustomBehavior File="MyCTM" X="-2107.742" Y="2656.368" Z="0.5985863" />
            </If>
            <If Condition="!IsObjectiveComplete(2, 14382) &amp;&amp; Me.InVehicle" >
                <DisableBehavior Name="Combat" />
                <MoveTo Precision="1" X="-2127.422" Y="2559.176" Z="7.34024" />
                <CustomBehavior File="RunCode" Code="
                    Me.SetFacing(3.122394f);
                    await Coroutine.Sleep(1000);
                    Lua.DoString(&quot;CastPetAction(1);&quot;);
                    await Coroutine.Sleep(6000);
                " />
                <EnableBehavior Name="Combat" />
                <CustomBehavior File="KillUntilComplete" MobId="36399" QuestId="14382" QuestObjectiveIndex="2" X="-2197.342" Y="2594.982" Z="1.723538" />
                <MoveTo X="-2219.336" Y="2561.437" Z="8.662561" />
                <CustomBehavior File="MyCTM" X="-2207.892" Y="2557.509" Z="0.9501605" />
            </If>
        </While>
        <EnableBehavior Name="Pull" />
        <While Condition="HasQuest(14368) &amp;&amp; !IsQuestCompleted(14368)">
            <While Condition="HasQuest(14368) &amp;&amp; !IsObjectiveComplete(1,14368)">
                <!-- Cynthia, in field -->
                <CustomBehavior File="InteractWith" QuestId="14368" MobId="36287"
                    NonCompeteDistance="0" X="-1987.47" Y="2508.71" Z="1.39213" />
            </While>
            <While Condition="HasQuest(14368) &amp;&amp; !IsObjectiveComplete(3,14368)">
                <!-- James, outside of tower -->
                <CustomBehavior File="InteractWith" QuestId="14368" MobId="36289"
                    NonCompeteDistance="0" X="-1935.233" Y="2544.741" Z="1.392623" />
            </While>
            <While Condition="HasQuest(14368) &amp;&amp; !IsObjectiveComplete(2,14368)">
                <!-- Ashley, inside of tower -->
                <CustomBehavior File="InteractWith" QuestId="14368" MobId="36288"
                    NonCompeteDistance="0" X="-1931.613" Y="2562.289" Z="12.73914" />
                <MoveTo X="-1926.533" Y="2560.558" Z="12.73364" />
            </While>
        </While>
        <Objective QuestName="Unleash the Beast" QuestId="14369" Type="KillMob" MobId="36634" KillCount="8" />
        <If Condition="HasQuest(14368) &amp;&amp; IsQuestCompleted(14368)" >
            <CustomBehavior File="NoCombatMoveTo" X="-1882.678" Y="2543.867" Z="1.628508" />
        </If>
        <TurnIn QuestName="Save the Children!" QuestId="14368" TurnInName="Melinda Hammond" TurnInId="36291" />
        <TurnIn QuestName="Unleash the Beast" QuestId="14369" TurnInName="Lord Godfrey" TurnInId="36290"
                X="-1874.202" Y="2531.46" Z="-6.387275" />
        <TurnIn QuestName="Two By Sea" QuestId="14382" TurnInName="Lord Godfrey" TurnInId="36290" />
        <PickUp QuestName="Leader of the Pack" QuestId="14386" GiverName="Lord Godfrey" GiverId="36290" />
        <DisableBehavior Name="Pull" />
        <While Condition="HasQuest(14386) &amp;&amp; !IsQuestCompleted(14386)">
            <CustomBehavior File="WaitTimer" WaitTime="250000"
                            GoalText="Waiting for &quot;Mastiff Whistle&quot; cooldown ({TimeRemaining})"
                            TerminateWhen="IsQuestCompleted(14386) || Me.CarriedItems.Any(i =&gt; (i.Entry == 49240) &amp;&amp; (i.Cooldown &lt;= 0.0))" />
            <CustomBehavior File="InteractWith" QuestId="14386" InteractByUsingItemId="49240" MobId="36312"
                            MobState="Alive" Range="30" WaitTime="10000"
                            TerminateWhen="IsQuestCompleted(14386) || Me.CarriedItems.Any(i =&gt; (i.Entry == 49240) &amp;&amp; (i.Cooldown &gt; 0.0))"
                            X="-1943.728" Y="2653.24" Z="0.9589877" />
            <EnableBehavior Name="Pull" />
            <CustomBehavior File="KillUntilComplete" MobId="36312" QuestId="14386" X="-1943.728" Y="2653.24" Z="0.9589877" />
            <DisableBehavior Name="Pull" />
        </While>
        <TurnIn QuestName="Leader of the Pack" QuestId="14386" TurnInName="Lord Godfrey" TurnInId="36290" />
        <EnableBehavior Name="Pull" />
        <PickUp QuestName="As the Land Shatters" QuestId="14396" GiverName="Lord Godfrey" GiverId="36290" />
        <TurnIn QuestName="As the Land Shatters" QuestId="14396" TurnInName="Prince Liam Greymane" TurnInId="36451" />
        <PickUp QuestName="Gasping for Breath" QuestId="14395" GiverName="Prince Liam Greymane" GiverId="36451" />
        <DisableBehavior Name="Pull" />
        <While Condition="HasQuest(14395) &amp;&amp; !IsQuestCompleted(14395)">
            <MoveTo X="-1928.118" Y="2504.391" Z="2.383482" />
            <CustomBehavior File="MyCTM" QuestId="14395" X="-1945.608" Y="2531.583" Z="-1.615632" /> <!-- Get into water -->
            <CustomBehavior File="InteractWith" MobId="36440" MovementBy="ClickToMoveOnly" CollectionDistance="200" QuestId="14395" QuestObjectiveIndex="1" X="4845.033" Y="3815.449" Z="763.4963" TerminateWhen="Me.HasAura(68735)" />
            <CustomBehavior File="MyCTM" QuestId="14395" X="-1937.774" Y="2517.827" Z="-1.524461" /> <!-- Get out of water clear of debris -->
            <CustomBehavior File="MyCTM" QuestId="14395" X="-1928.118" Y="2504.391" Z="2.383482" /> <!-- Get out of water -->
        </While>
        <EnableBehavior Name="Pull" />
        <TurnIn QuestName="Gasping for Breath" QuestId="14395" TurnInName="Prince Liam Greymane" TurnInId="36451" />
        <PickUp QuestName="Evacuation" QuestId="14397" GiverName="Prince Liam Greymane" GiverId="36451" />
        <TurnIn QuestName="Evacuation" QuestId="14397" TurnInName="Gwen Armstead" TurnInId="36452"  />
        <PickUp QuestName="Grandma Wahl" QuestId="14398" GiverName="Gwen Armstead" GiverId="36452"
                X="-1903.92" Y="2252.273" Z="42.32548" />
        <PickUp QuestName="The Hayward Brothers" QuestId="14403" GiverName="Gwen Armstead" GiverId="36452"
                X="-1903.92" Y="2252.273" Z="42.32548" />
        <PickUp QuestName="The Crowley Orchard" QuestId="14406" GiverName="Gwen Armstead" GiverId="36452" />
        <TurnIn QuestName="Grandma Wahl" QuestId="14398" TurnInName="Grandma Wahl" TurnInId="36458" />
        <PickUp QuestName="Grandma's Lost It Alright" QuestId="14399" GiverName="Grandma Wahl" GiverId="36458" />
        <Objective QuestName="Grandma's Lost It Alright" QuestId="14399" Type="CollectItem" ItemId="49280" CollectCount="1" />
        <TurnIn QuestName="Grandma's Lost It Alright" QuestId="14399" TurnInName="Grandma Wahl" TurnInId="36458" />
        <PickUp QuestName="I Can't Wear This" QuestId="14400" GiverName="Grandma Wahl" GiverId="36458" />
        <Objective QuestName="I Can't Wear This" QuestId="14400" Type="CollectItem" ItemId="49279" CollectCount="1" />
        <TurnIn QuestName="I Can't Wear This" QuestId="14400" TurnInName="Grandma Wahl" TurnInId="36458" />
        <PickUp QuestName="Grandma's Cat" QuestId="14401" GiverName="Grandma Wahl" GiverId="36458" />
        <While Condition="HasQuest(14401) &amp;&amp; !IsQuestCompleted(14401)">
            <CustomBehavior File="InteractWith" QuestId="14401" MobId="36459" WaitTime="4500"
                            X="-2102.93" Y="2333.44" Z="8.443903" />
        </While>
        <TurnIn QuestName="Grandma's Cat" QuestId="14401" TurnInName="Grandma Wahl" TurnInId="36458" />
        <If Condition="HasQuest(14403)">
            <DisableBehavior Name="Pull" />
            <CustomBehavior File="NoCombatMoveTo" X="-2302.522" Y="2278.062" Z="-0.1799628" />
        </If>
        <TurnIn QuestName="The Hayward Brothers" QuestId="14403" TurnInName="Sebastian Hayward" TurnInId="36456" />
        <PickUp QuestName="Not Quite Shipshape" QuestId="14404" GiverName="Sebastian Hayward" GiverId="36456" />
        <PickUp QuestName="Washed Up" QuestId="14412" GiverName="Sebastian Hayward" GiverId="36456" />
        <Objective QuestName="Not Quite Shipshape" QuestId="14404" Type="CollectItem" ItemId="49337" CollectCount="1" />
        <Objective QuestName="Not Quite Shipshape" QuestId="14404" Type="CollectItem" ItemId="49338" CollectCount="1" />
        <Objective QuestName="Not Quite Shipshape" QuestId="14404" Type="CollectItem" ItemId="49339" CollectCount="1" />
        <EnableBehavior Name="Pull" />
        <If Condition="HasQuest(14412) &amp;&amp; !IsQuestCompleted(14412)">
            <CustomBehavior File="KillUntilComplete" MobId="36488" QuestId="14412" QuestObjectiveIndex="1" X="-2322.23" Y="2288.229" Z="0.2322925" />
        </If>
        <DisableBehavior Name="Pull" />
        <TurnIn QuestName="Washed Up" QuestId="14412" TurnInName="Sebastian Hayward" TurnInId="36456" />
        <TurnIn QuestName="Not Quite Shipshape" QuestId="14404" TurnInName="Sebastian Hayward" TurnInId="36456" />
        <If Condition="HasQuest(14406)">
            <CustomBehavior File="NoCombatMoveTo" X="-2060.109" Y="2256.748" Z="22.41121" />
        </If>
        <EnableBehavior Name="Pull" />
        <TurnIn QuestName="The Crowley Orchard" QuestId="14406" TurnInName="Lorna Crowley" TurnInId="36457" />
        <PickUp QuestName="The Hungry Ettin" QuestId="14416" GiverName="Lorna Crowley" GiverId="36457" />
        <!-- Got stuck here after the last horse...
             like the behavior didn't know it was not in a vehicle;
             please double check the behavior
        -->
        <While Condition="HasQuest(14416) &amp;&amp; !IsQuestCompleted(14416)">
            <DisableBehavior Name="Loot" />
            <CustomBehavior File="WaitForPatrol" AvoidMobId="36528" AvoidDistance="50"
                            X="-2120.636" Y="2197.178" Z="18.23803" />
            <If Condition="Me.Class == WoWClass.Druid">
                <MoveTo X="-2093.622" Y="2259.525" Z="20.98417" />
                <CustomBehavior File="ForcedDismount" />
            </If>
            <CustomBehavior File="Vehicles\VehicleMover" QuestId="14416" VehicleId="36540" Precision="2" MobId="36457"
                            X="-2093.622" Y="2259.525" Z="20.98417" />
            <EnableBehavior Name="Loot" />
        </While>
        <TurnIn QuestName="The Hungry Ettin" QuestId="14416" TurnInName="Lorna Crowley" TurnInId="36457" />
        <PickUp QuestName="Horses for Duskhaven" QuestId="14463" GiverName="Lorna Crowley" GiverId="36457" />
        <TurnIn QuestName="Horses for Duskhaven" QuestId="14463" TurnInName="Gwen Armstead" TurnInId="36452" />

        <CustomBehavior File="Message" Text="Compiling Small Town Quests" LogColor="CornflowerBlue" />

        <PickUp QuestName="To Greymane Manor" QuestId="14465" GiverName="Gwen Armstead" GiverId="36452" />
        <TurnIn QuestName="To Greymane Manor" QuestId="14465" TurnInName="Queen Mia Greymane" TurnInId="36606" />
        <If Condition="!HasQuest(14466) &amp;&amp; !IsQuestCompleted(14466)" >
            <PickUp QuestName="The King's Observatory" QuestId="14466" GiverName="Queen Mia Greymane" GiverId="36606" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame:IsVisible() then MovieFrame:StopMovie() else CinematicFrame_CancelCinematic() end" WaitTime="2000" />
        </If>
        <TurnIn QuestName="The King's Observatory" QuestId="14466" TurnInName="King Genn Greymane" TurnInId="36743" />
        <PickUp QuestName="Alas, Gilneas!" QuestId="14467" GiverName="King Genn Greymane" GiverId="36743" />
        <PickUp QuestName="Exodus" QuestId="24438" GiverName="King Genn Greymane" GiverId="36743"
                X="-1518.706" Y="2606.227" Z="203.5247" />
        <!-- CJ: The quest is 'complete' (but not marked as such) when we pick it up, so can't directly
             use QuestId as qualifier for InteractWith usage.
        -->
        <If Condition="HasQuest(24438)">
            <!-- CJ: 72764 is "Ride Vehicle" aura -->
            <CustomBehavior File="InteractWith" MobId="44928" WaitTime="85000"
                            X="-1665.399" Y="2515.875" Z="98.10989" />
        </If>
        <TurnIn QuestName="Exodus" QuestId="24438" TurnInName="Prince Liam Greymane" TurnInId="37065" />
        <PickUp QuestName="Stranded at the Marsh" QuestId="24468" GiverName="Prince Liam Greymane" GiverId="37065" />
        <Objective QuestName="Stranded at the Marsh" QuestId="24468" Type="KillMob" MobId="37078" KillCount="5" />
        <TurnIn QuestName="Stranded at the Marsh" QuestId="24468" TurnInName="Prince Liam Greymane" TurnInId="37065" />
        <PickUp QuestName="Introductions Are in Order" QuestId="24472" GiverName="Prince Liam Greymane" GiverId="37065" />
        <Objective QuestName="Introductions Are in Order" QuestId="24472" Type="CollectItem" ItemId="49742" CollectCount="1" />
        <Objective QuestName="Introductions Are in Order" QuestId="24472" Type="KillMob" MobId="36293" KillCount="4" />
        <TurnIn QuestName="Introductions Are in Order" QuestId="24472" TurnInName="Prince Liam Greymane" TurnInId="37065" />
        <PickUp QuestName="Stormglen" QuestId="24483" GiverName="Prince Liam Greymane" GiverId="37065" />
        <TurnIn QuestName="Stormglen" QuestId="24483" TurnInName="Gwen Armstead" TurnInId="37102" />
        <PickUp QuestName="Pest Control" QuestId="24484" GiverName="Gwen Armstead" GiverId="37102" />
        <PickUp QuestName="Pieces of the Past" QuestId="24495" GiverName="Lorna Crowley" GiverId="37815" />
        <Objective QuestName="Pieces of the Past" QuestId="24495" Type="CollectItem" ItemId="49760" CollectCount="6" />
        <Objective QuestName="Pest Control" QuestId="24484" Type="KillMob" MobId="36813" KillCount="6" />
        <TurnIn QuestName="Pest Control" QuestId="24484" TurnInName="Gwen Armstead" TurnInId="37102" />
        <TurnIn QuestName="Pieces of the Past" QuestId="24495" TurnInName="Lorna Crowley" TurnInId="37815" />
        <PickUp QuestName="Queen-Sized Troubles" QuestId="24501" GiverName="Gwen Armstead" GiverId="37102" />
        <Objective QuestName="Queen-Sized Troubles" QuestId="24501" Type="KillMob" MobId="37045" KillCount="1" />
        <TurnIn QuestName="Queen-Sized Troubles" QuestId="24501" TurnInName="Gwen Armstead" TurnInId="37102" />
        <PickUp QuestName="The Blackwald" QuestId="24578" GiverName="Lorna Crowley" GiverId="37815" />
        <TurnIn QuestName="The Blackwald" QuestId="24578" TurnInName="Belrysa Starbreeze" TurnInId="37822" />
        <PickUp QuestName="Losing Your Tail" QuestId="24616" GiverName="Belrysa Starbreeze" GiverId="37822" />
        <If Condition="HasQuest(24616)">
            <!-- <CustomBehavior File="UserDialog" AllowBotStop="true" Text="CJ DEBUG: DoWhen check..." /> -->
            <CustomBehavior File="Hooks\DoWhen" ItemId="49944" AllowUseDuringCombat="true"
                            UseWhen="Me.HasAura(70794)" />
            <Objective QuestName="Losing Your Tail" QuestId="24616" Type="KillMob" MobId="37953" KillCount="1" X="-2246.853" Y="1472.318" Z="-20.5957" />
            <CustomBehavior File="Hooks\DoWhen" ItemId="49944" Command="Remove" />
        </If>
        <TurnIn QuestName="Losing Your Tail" QuestId="24616" TurnInName="Belrysa Starbreeze" TurnInId="37822" />
        <PickUp QuestName="Tal'doren, the Wild Home" QuestId="24617" GiverName="Belrysa Starbreeze" GiverId="37822" />
        <If Condition="HasQuest(24617)">
            <CustomBehavior File="NoCombatMoveTo" QuestId="24617" X="-2080.827" Y="1273.823" Z="-85.60164" />
        </If>
        <TurnIn QuestName="Tal'doren, the Wild Home" QuestId="24617" TurnInName="Lord Darius Crowley" TurnInId="37195" />
        <PickUp QuestName="At Our Doorstep" QuestId="24627" GiverName="Lord Darius Crowley" GiverId="37195" />
        <PickUp QuestName="Preparations" QuestId="24628" GiverName="Vassandra Stormclaw" GiverId="37873" />
        <Objective QuestName="Preparations" QuestId="24628" Type="CollectItem" ItemId="50017" CollectCount="6" />
        <Objective QuestName="At Our Doorstep" QuestId="24627" Type="KillMob" MobId="37757" KillCount="6" />
        <TurnIn QuestName="At Our Doorstep" QuestId="24627" TurnInName="Lord Darius Crowley" TurnInId="37195" />
        <TurnIn QuestName="Preparations" QuestId="24628" TurnInName="Vassandra Stormclaw" TurnInId="37873" />
        <PickUp QuestName="Take Back What's Ours" QuestId="24646" GiverName="Lord Darius Crowley" GiverId="37195" />
        <While Condition="HasQuest(24646) &amp;&amp; !IsQuestCompleted(24646)">
            <DisableBehavior Name="Pull" />
            <MoveTo QuestId="24646" X="-2182.577" Y="1619.321" Z="-41.1452" />
            <CustomBehavior File="UseItem" ItemId="50134" />
            <CustomBehavior File="WaitTimer" WaitTime="6000"/>
            <CustomBehavior File="NoCombatMoveTo" X="-2122.085" Y="1629.767" Z="-42.22638" />
            <CustomBehavior File="InteractWith" MobId="201939" NonCompeteDistance="0" IgnoreCombat="true"
                            CollectionDistance="200" X="-2121.341" Y="1628.219" Z="-42.23239" />
            <CustomBehavior File="NoCombatMoveTo" X="-2182.577" Y="1619.321" Z="-41.1452" />
            <EnableBehavior Name="Pull" />
        </While>
        <TurnIn QuestName="Take Back What's Ours" QuestId="24646" TurnInName="Lord Darius Crowley" TurnInId="37195" />
        <PickUp QuestName="Neither Human Nor Beast" QuestId="24593" GiverName="Lord Darius Crowley" GiverId="37195" />
        <Objective QuestName="Neither Human Nor Beast" QuestId="24593" Type="UseObject" ObjectId="201950" UseCount="1" />
        <Objective QuestName="Neither Human Nor Beast" QuestId="24593" Type="UseObject" ObjectId="201951" UseCount="1" />
        <Objective QuestName="Neither Human Nor Beast" QuestId="24593" Type="UseObject" ObjectId="201952" UseCount="1" />
        <TurnIn QuestName="Neither Human Nor Beast" QuestId="24593" TurnInName="Lord Darius Crowley" TurnInId="37195" />
        <PickUp QuestName="Return to Stormglen" QuestId="24673" GiverName="Lord Darius Crowley" GiverId="37195" />
        <TurnIn QuestName="Return to Stormglen" QuestId="24673" TurnInName="Gwen Armstead" TurnInId="37102" />
        <PickUp QuestName="Onwards and Upwards" QuestId="24672" GiverName="Gwen Armstead" GiverId="37102" />
        <TurnIn QuestName="Onwards and Upwards" QuestId="24672" TurnInName="Krennan Aranas" TurnInId="37874" />
        <PickUp QuestName="Betrayal at Tempest's Reach" QuestId="24592" GiverName="Krennan Aranas" GiverId="37874" />
        <If Condition="HasQuest(24592) &amp;&amp; !IsQuestCompleted(2459)">
            <!-- <CustomBehavior File="UserDialog" AllowBotStop="true" Text="CJ DEBUG: DoWhen check..." /> -->
            <CustomBehavior File="Hooks\DoWhen" ItemId="50218"
                            UseWhen="( Me.SubZoneId == 4788 ) &amp;&amp; Me.IsAlive &amp;&amp; !Me.HasAura(70456)" />
            <If Condition="!IsObjectiveComplete(2,24592)">
                <DisableBehavior Name="Pull" />
                <MoveTo X="-1896.995" Y="950.402" Z="77.13059" />
                <MoveTo X="-1920.611" Y="987.4796" Z="77.74455" />
                <TargetingDistance Value="10" />
                <CustomBehavior File="Hooks\DoWhen" ItemId="50218" Command="Disable" />
                <EnableBehavior Name="Pull" />
                <Objective QuestName="Betrayal at Tempest's Reach" QuestId="24592" Type="KillMob"
                           MobId="37733" KillCount="1" />
                <CustomBehavior File="Hooks\DoWhen" ItemId="50218" Command="Enable" />
                <TargetingDistance Value="null" />
            </If>
            <If Condition="!IsObjectiveComplete(1,24592)">
                <DisableBehavior Name="Pull" />
                <MoveTo X="-1957.036" Y="856.4854" Z="64.31448" />
                <MoveTo X="-2092.469" Y="768.3928" Z="94.47879" />
                <MoveTo X="-2102.582" Y="792.1297" Z="89.79749" />
                <TargetingDistance Value="10" />
                <CustomBehavior File="Hooks\DoWhen" ItemId="50218" Command="Disable" />
                <EnableBehavior Name="Pull" />
                <Objective QuestName="Betrayal at Tempest's Reach" QuestId="24592" Type="KillMob"
                           MobId="37735" KillCount="1" />
                <CustomBehavior File="Hooks\DoWhen" ItemId="50218" Command="Enable" />
                <TargetingDistance Value="null" />
            </If>
            <DisableBehavior Name="Pull" />
            <CustomBehavior File="NoCombatMoveTo" X="-1945.14" Y="862.108" Z="65.77158" />
            <CustomBehavior File="NoCombatMoveTo" X="-2043.936" Y="975.2906" Z="70.06609" />
            <EnableBehavior Name="Pull" />
            <CustomBehavior File="Hooks\DoWhen" ItemId="50218" Command="Remove" />
        </If>
        <If Condition="HasQuest(24592) &amp;&amp; IsQuestCompleted(24592)">
            <DisableBehavior Name="Pull" />
            <TurnIn QuestName="Betrayal at Tempest's Reach" QuestId="24592" TurnInName="King Genn Greymane" TurnInId="37876" />
            <EnableBehavior Name="Pull" />
            <CustomBehavior File="WaitTimer" WaitTime="3000"/>
        </If>
        <PickUp QuestName="Flank the Forsaken" QuestId="24677" GiverName="King Genn Greymane" GiverId="37876" />
        <If Condition="HasQuest(24677)">
            <CustomBehavior File="InteractWith" MobId="38764" InteractByGossipOptions="1" WaitForNpcs="false"
                            CollectionDistance="20" />
            <CustomBehavior File="WaitTimer" WaitTime="101000"/>
        </If>
        <TurnIn QuestName="Flank the Forsaken" QuestId="24677" TurnInName="Lorna Crowley" TurnInId="37783" />

        <CustomBehavior File="Message" Text="Compiling Small Outpost Quests" LogColor="CornflowerBlue" />

        <PickUp QuestName="Liberation Day" QuestId="24575" GiverName="Lorna Crowley" GiverId="37783" />
        <PickUp QuestName="Slaves to No One" QuestId="24674" GiverName="Marcus" GiverId="37803" />
        <PickUp QuestName="Last Meal" QuestId="24675" GiverName="Magda Whitewall" GiverId="38143" />
        <Objective QuestName="Last Meal" QuestId="24675" Type="CollectItem" ItemId="50219" CollectCount="10" />
        <Objective QuestName="Slaves to No One" QuestId="24674" Type="KillMob" MobId="37802" KillCount="1" />
        <While Condition="HasQuest(24575) &amp;&amp; !IsQuestCompleted(24575)">
            <Objective QuestName="Liberation Day" QuestId="24575" Type="CollectItem" ItemId="49881" CollectCount="5" />
            <CustomBehavior File="InteractWith" QuestId="24575" MobId="201775" ObjectType="GameObject" NumOfTimes="5" CollectionDistance="200" />
            <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for quest to complete {TimeRemaining}" />
        </While>
        <TurnIn QuestName="Liberation Day" QuestId="24575" TurnInName="Lorna Crowley" TurnInId="37783" />
        <TurnIn QuestName="Slaves to No One" QuestId="24674" TurnInName="Marcus" TurnInId="37803" />
        <TurnIn QuestName="Last Meal" QuestId="24675" TurnInName="Magda Whitewall" TurnInId="38143" />
        <PickUp QuestName="Push Them Out" QuestId="24676" GiverName="Lorna Crowley" GiverId="37783" />
        <Objective QuestName="Push Them Out" QuestId="24676" Type="KillMob" MobId="37686" KillCount="1" />
        <Objective QuestName="Push Them Out" QuestId="24676" Type="KillMob" MobId="37685" KillCount="1" />
        <Objective QuestName="Push Them Out" QuestId="24676" Type="KillMob" MobId="37692" KillCount="4" />
        <TurnIn QuestName="Push Them Out" QuestId="24676" TurnInName="Lorna Crowley" TurnInId="37783" />
        <PickUp QuestName="The Battle for Gilneas City" QuestId="24904" GiverName="Lorna Crowley" GiverId="37783" />
        <While Condition="HasQuest(24904) &amp;&amp; !IsQuestCompleted(24904)">
            <RunTo X="-1390.441" Y="1231.996" Z="35.55811" />
            <CustomBehavior File="InteractWith" MobId="38553" InteractByGossipOptions="1" WaitForNpcs="false"
                            CollectionDistance="200" />
            <DisableBehavior Name="Pull" />
            <CustomBehavior File="EscortGroup" QuestId="24904" EscortNpcId="38218" EscortCountMax="1"
                            EscortMaxFightDistance="15" EscortMaxFollowDistance="15" SearchForNpcsRadius="100" TerminateWhen="Unit(38218) == null" />
            <If Condition="Unit(38469) != null" > <!-- If Sylvanas is near us, event finished properly. -->
                <RunTo X="-1675.245" Y="1616.768" Z="20.4879" />
                <CustomBehavior File="EscortGroup" QuestId="24904" EscortNpcId="38470" EscortCountMax="1"
                            EscortMaxFightDistance="15" EscortMaxFollowDistance="5" TerminateWhen="Me.X &gt; -1500" /> <!-- Assist Genn, terminate if event fails -->
            </If>
            <EnableBehavior Name="Pull" />
        </While>
        <TurnIn QuestName="The Battle for Gilneas City" QuestId="24904" TurnInName="Lorna Crowley" TurnInId="38611" />

        <CustomBehavior File="Message" Text="Compiling Gilneas City Quests" LogColor="CornflowerBlue" />

        <PickUp QuestName="The Hunt For Sylvanas" QuestId="24902" GiverName="Lorna Crowley" GiverId="38611" />
        <While Condition="HasQuest(24902) &amp;&amp; !IsQuestCompleted(24902)" >
            <If Condition="!HasQuest(24902)" >
                <PickUp QuestName="The Hunt For Sylvanas" QuestId="24902" GiverName="Lorna Crowley" GiverId="38611" />
            </If>
            <CustomBehavior File="NoCombatMoveTo" X="-1629.107" Y="1601.446" Z="21.76144" />
            <CustomBehavior File="WaitTimer" WaitTime="7000"/>
            <CustomBehavior File="NoCombatMoveTo" X="-1597.685" Y="1607.3" Z="21.59968"/>
            <CustomBehavior File="WaitTimer" WaitTime="5000"/>
            <CustomBehavior File="NoCombatMoveTo" X="-1581.727" Y="1618.003" Z="20.58184"/>
            <CustomBehavior File="NoCombatMoveTo" X="-1492.456" Y="1576.429" Z="20.48551" />
            <CustomBehavior File="WaitTimer" WaitTime="14000"/>
            <CustomBehavior File="NoCombatMoveTo" X="-1610.533" Y="1535.239" Z="29.22881" />
            <CustomBehavior File="WaitTimer" QuestId="24902" WaitTime="110000"/>
            <CustomBehavior File="NoCombatMoveTo" X="-1646.602" Y="1708.9" Z="20.49091" />
            <If Condition="!IsQuestCompleted(24902)" >
                <CustomBehavior File="AbandonQuest" QuestId="24902" />
            </If>
        </While>
        <TurnIn QuestName="The Hunt For Sylvanas" QuestId="24902" TurnInName="Lorna Crowley" TurnInId="38611" />
        <PickUp QuestName="Vengeance or Survival" QuestId="24903" GiverName="Lorna Crowley" GiverId="38611" />
        <TurnIn QuestName="Vengeance or Survival" QuestId="24903" TurnInName="King Genn Greymane" TurnInId="38539" />
        <PickUp QuestName="Slowing the Inevitable" QuestId="24920" GiverName="King Genn Greymane" GiverId="38539" />
        <While Condition="HasQuest(24920) &amp;&amp; !IsQuestCompleted(24920)">
            <CustomBehavior File="Vehicles\NoControlVehicle" VehicleMountId="38615" TargetId="38287" AttackButton="1"
                            OftenToUse="2000" NumOfTimes="6" VehicleId="38540" MaxRange="100" TypeId="2" />
            <CustomBehavior File="Vehicles\NoControlVehicle" VehicleMountId="38615" TargetId="38363" AttackButton="1"
                            OftenToUse="2000" NumOfTimes="20" GoHomeButton="5" VehicleId="38540" MaxRange="100" TypeId="2" />
            <CustomBehavior File="Vehicles\NoControlVehicle" VehicleMountId="38615" TargetId="38363" AttackButton="5"
                            OftenToUse="2000" VehicleId="38540" MaxRange="100" TypeId="2" />
        </While>
        <TurnIn QuestName="Slowing the Inevitable" QuestId="24920" TurnInName="King Genn Greymane" TurnInId="38539" />
        <PickUp QuestName="Knee-Deep" QuestId="24678" GiverName="King Genn Greymane" GiverId="38539" />
        <DisableBehavior Name="Pull" />
        <!-- <CustomBehavior File="UserDialog" AllowBotStop="true" Text="CJ DEBUG: DoWhen check..." /> -->
        <CustomBehavior File="Hooks\DoWhen" ItemId="50220" UseAtInterval="500" AllowUseDuringCombat="true" />
        <If Condition="HasQuest(24678)" >
            <DisableBehavior Name="Combat" />
            <MoveTo X="-1642.377" Y="1635.776" Z="10.13438" />
            <EnableBehavior Name="Combat" />
        </If>
        <TurnIn QuestName="Knee-Deep" QuestId="24678" TurnInName="Krennan Aranas" TurnInId="38144" />
        <CustomBehavior File="Hooks\DoWhen" ItemId="50220" Command="Remove" />
        <EnableBehavior Name="Pull" />
        <PickUp QuestName="Laid to Rest" QuestId="24602" GiverName="Krennan Aranas" GiverId="38144" />
        <Objective QuestName="Laid to Rest" QuestId="24602" Type="CollectItem" ItemId="49921" CollectCount="5" />
        <TurnIn QuestName="Laid to Rest" QuestId="24602" TurnInName="Krennan Aranas" TurnInId="38144" />
        <PickUp QuestName="Patriarch's Blessing" QuestId="24679" GiverName="Krennan Aranas" GiverId="38144" />
        <If Condition="HasQuest(24679)" >
            <UseItem ItemId="51956" QuestId="24679" X="-1643.742" Y="1905.736" Z="29.95211" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame:IsVisible() then MovieFrame:StopMovie() else CinematicFrame_CancelCinematic() end" WaitTime="2000" />
        </If>
        <TurnIn QuestName="Patriarch's Blessing" QuestId="24679" TurnInName="Krennan Aranas" TurnInId="38144" />
        <PickUp QuestName="Keel Harbor" QuestId="24680" GiverName="Krennan Aranas" GiverId="38144" />
        <TurnIn QuestName="Keel Harbor" QuestId="24680" TurnInName="Lord Darius Crowley" TurnInId="38149" />
        <PickUp QuestName="They Have Allies, But So Do We" QuestId="24681" GiverName="Lord Darius Crowley" GiverId="38149" />
        <!-- Terrain / buliding issues, nat will need to re-flow this vehicle quest -->
        <!-- Behavior developer - please make a behavior for this quest -->
        <!-- Kick checked mesh, no issues there, pure vehicle behavior issue -->
        <!-- <While Condition="HasQuest(24681) &amp;&amp; !IsQuestCompleted(24681)">

            <CustomBehavior File="UserDialog" AllowBotStop="true" Text="You must do this quest manually as currently the bot will get the vehicle stuck on objects.\n\nA solution for this is coming soon." />

            <CustomBehavior File="NoCombatMoveTo" X="-1329.487" Y="2115.918" Z="5.632293" />
            <CustomBehavior File="Vehicles\MountVehOnly" VehicleMountId="38150" X="-1329.487" Y="2115.918" Z="5.632293" />

            <MoveTo X="-1251.055" Y="2406.862" Z="56.28029" />
            <DisableBehavior Name="All" />

            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" AttackButton="1" AttackButton2="2"
                            VehicleId="38150" VehicleMountId="37927" MobIds="37916, 37939, 37921"
                            StartObjectivePointX="-1251.055" StartObjectivePointY="2406.862" StartObjectivePointZ="56.28029"
                            StartPointX="-1326.918" StartPointY="2104.049" StartPointZ="5.631194"
                            VehicleType="1" />


            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="4" FireHeight="35"
                            FireLocationX="-1334.48" FireLocationY="2150.889" FireLocationZ="6.693322"
                            TargetLocationX="-1388.966" TargetLocationY="2393.113" TargetLocationZ="65.77325"
                            PreviousFireLocationX="0" PreviousFireLocationY="0" PreviousFireLocationZ="0" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="4" FireHeight="35"
                            FireLocationX="-1351.32" FireLocationY="2168.421" FireLocationZ="14.04689"
                            TargetLocationX="-1388.966" TargetLocationY="2393.113" TargetLocationZ="65.77325"
                            PreviousFireLocationX="-1334.48" PreviousFireLocationY="2150.889" PreviousFireLocationZ="6.693322" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="4" FireHeight="35"
                            FireLocationX="-1325.401" FireLocationY="2211.273" FireLocationZ="23.59298"
                            TargetLocationX="-1388.966" TargetLocationY="2393.113" TargetLocationZ="65.77325"
                            PreviousFireLocationX="-1351.32" PreviousFireLocationY="2168.421" PreviousFireLocationZ="14.04689" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="4" FireHeight="35"
                            FireLocationX="-1409.252" FireLocationY="2381.856" FireLocationZ="68.72691"
                            TargetLocationX="-1388.966" TargetLocationY="2393.113" TargetLocationZ="65.77325"
                            PreviousFireLocationX="0" PreviousFireLocationY="0" PreviousFireLocationZ="0" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="35"
                            FireLocationX="-1401.78" FireLocationY="2391.123" FireLocationZ="69.04076"
                            TargetLocationX="-1418.158" TargetLocationY="2425.404" TargetLocationZ="77.10014"
                            PreviousFireLocationX="-1376.874" PreviousFireLocationY="2351.254" PreviousFireLocationZ="56.54487" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1375.445" FireLocationY="2453.393" FireLocationZ="74.08035"
                            TargetLocationX="-1350.836" TargetLocationY="2474.257" TargetLocationZ="75.33693"
                            PreviousFireLocationX="-1401.78" PreviousFireLocationY="2391.123" PreviousFireLocationZ="69.04076" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1387.242" FireLocationY="2477.023" FireLocationZ="80.84734"
                            TargetLocationX="-1392.888" TargetLocationY="2522.558" TargetLocationZ="87.63641"
                            PreviousFireLocationX="-1375.445" PreviousFireLocationY="2453.393" PreviousFireLocationZ="74.08035" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1337.144" FireLocationY="2502.64" FireLocationZ="78.13155"
                            TargetLocationX="-1351.554" TargetLocationY="2539.074" TargetLocationZ="86.67057"
                            PreviousFireLocationX="-1387.242" PreviousFireLocationY="2477.023" PreviousFireLocationZ="80.84734" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1269.408" FireLocationY="2548.91" FireLocationZ="79.61057"
                            TargetLocationX="-1271.017" TargetLocationY="2584.62" TargetLocationZ="83.55658"
                            PreviousFireLocationX="-1337.144" PreviousFireLocationY="2502.64" PreviousFireLocationZ="78.13155" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1282.686" FireLocationY="2545.517" FireLocationZ="79.64725"
                            TargetLocationX="-1254.073" TargetLocationY="2549.733" TargetLocationZ="78.61565"
                            PreviousFireLocationX="-1269.408" PreviousFireLocationY="2548.91" PreviousFireLocationZ="79.61057" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1375.445" FireLocationY="2453.393" FireLocationZ="74.08035"
                            TargetLocationX="-1350.836" TargetLocationY="2474.257" TargetLocationZ="75.33693"
                            PreviousFireLocationX="-1282.686" PreviousFireLocationY="2545.517" PreviousFireLocationZ="79.64725" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1282.686" FireLocationY="2545.517" FireLocationZ="79.64725"
                            TargetLocationX="-1254.073" TargetLocationY="2549.733" TargetLocationZ="78.61565"
                            PreviousFireLocationX="-1375.445" PreviousFireLocationY="2453.393" PreviousFireLocationZ="74.08035" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1375.445" FireLocationY="2453.393" FireLocationZ="74.08035"
                            TargetLocationX="-1350.836" TargetLocationY="2474.257" TargetLocationZ="75.33693"
                            PreviousFireLocationX="-1282.686" PreviousFireLocationY="2545.517" PreviousFireLocationZ="79.64725" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1282.686" FireLocationY="2545.517" FireLocationZ="79.64725"
                            TargetLocationX="-1254.073" TargetLocationY="2549.733" TargetLocationZ="78.61565"
                            PreviousFireLocationX="-1375.445" PreviousFireLocationY="2453.393" PreviousFireLocationZ="74.08035" />
            <CustomBehavior File="Vehicles\VehicleBehavior" QuestId="24681" VehicleMountId="38150" VehicleId="37927"
                            AttackButton="2" FireHeight="25"
                            FireLocationX="-1333.144" FireLocationY="2529.758" FireLocationZ="85.25468"
                            TargetLocationX="-1329.242" TargetLocationY="2212.335" TargetLocationZ="23.53198"
                            PreviousFireLocationX="-1282.686" PreviousFireLocationY="2545.517" PreviousFireLocationZ="79.64725" />
            <CustomBehavior File="EjectVeh" QuestId="24681" />

            <EnableBehavior Name="All" />
        </While> -->
		
		<While Condition="HasQuest(24681) &amp;&amp; !IsQuestCompleted(24681)">
			<DisableBehavior Name="Combat" />		
			<If Condition="!Me.IsOnTransport">
				<CustomBehavior File="InteractWith" QuestId="24681" MobId="38150" Range="4" NonCompeteDistance="0" WaitTime="5000" TerminateWhen="Me.IsOnTransport" X="-1329.487" Y="2115.918" Z="5.632293" />
			</If>
			<While Condition="!IsQuestCompleted(24681) &amp;&amp; Me.IsOnTransport" >
				<MoveTo QuestId="24681" X="-1383.552" Y="2432.025" Z="72.33658" />
				<CustomBehavior File="Vehicles\CannonControl" QuestId="24681" MobId="37939" MobId2="37916" MobId3="37921" ExitButton="3" Gravity="35" Velocity="78" VehicleId="37927" MinAngle="0" MaxAngle="1" Buttons="2,1" />
				<MoveTo X="-1329.487" Y="2115.918" Z="5.632293" />
			</While>			
			<CustomBehavior File="EjectVeh" />
			<EnableBehavior Name="Combat" />
		</While>


        <TurnIn QuestName="They Have Allies, But So Do We" QuestId="24681" TurnInName="Lord Darius Crowley" TurnInId="38149" />
        <PickUp QuestName="Endgame" QuestId="26706" GiverName="Lorna Crowley" GiverId="43727" />
        <If Condition="HasQuest(26706) &amp;&amp; !IsQuestCompleted(26706)" >
            <If Condition="Me.Z &lt; 30" >
                <CustomBehavior File="Message"
                                Text="This may take a while for the encounter to start, don't be alarmed" LogColor="Orange" />
                <CustomBehavior File="Vehicles\MountVehOnly" QuestId="26706" VehicleMountId="43747"
                                X="-1286.587" Y="2130.113" Z="5.547534"/>
            </If>
            <CustomBehavior File="WaitTimer" QuestId="26706" WaitTime="330000" />
            <!-- we could grind area / escort to make this faster? -->
        </If>
        <TurnIn QuestName="Endgame" QuestId="26706" TurnInName="Lorna Crowley" TurnInId="43727" />
        <If Condition="!IsQuestCompleted(14434)" >
            <CustomBehavior File="InteractWith" MobId="36616" />
            <CustomBehavior File="RunMacro" Macro="/click GossipTitleButton1" />
            <CustomBehavior File="RunMacro" Macro="/click QuestFrameCompleteQuestButton" />
            <CustomBehavior File="WaitTimer" WaitTime="20000" GoalText="Waiting for port {TimeRemaining}" />
            <ClearVendor />
            <CustomBehavior File="Message" LogColor="CornflowerBlue"
                            Text="Don't be alarmed if you're AFK here, you're probably downloading mesh tiles!" />
        </If>

        <CustomBehavior File="Message" Text="Compiling GoTo Darnassus Quests" LogColor="CornflowerBlue" />

        <PickUp QuestName="The Howling Oak" QuestId="28517" GiverName="Krennan Aranas" GiverId="42968" />
        <If Condition="HasQuest(28517) &amp;&amp; IsQuestCompleted(28517)" >
        	<If Condition="Me.Z &lt; 100" >
        		<MoveTo X="8379.067" Y="996.7251" Z="28.62481" />
        		<CustomBehavior File="MyCTM" X="8404.55" Y="1007.255" Z="31.04077" TerminateWhen="Me.Z &gt;= 100"/>
        	</If>
            <TurnIn QuestName="The Howling Oak" QuestId="28517" TurnInName="Genn Greymane" TurnInId="48736" X="10316.4" Y="2446.592" Z="1330.43" />
            <If Condition="Me.Z &gt; 1200" >
                <MoveTo X="9946.995" Y="2612.834" Z="1316.237" />
                <CustomBehavior File="MyCTM" X="9947.232" Y="2620.743" Z="1317.38" />
                <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
            </If>
        </If>
        <!-- End of Worgen Quests -->

        <If Condition="Me.ZoneId == 1657 &amp;&amp; Me.Z &gt; 100" >
            <!-- Darnassus -->
            <CustomBehavior File="Message" Text="Running through Darnassus Port" LogColor="CornflowerBlue" />
            <MoveTo X="9947.361" Y="2616.342" Z="1316.432" />
            <CustomBehavior File="MyCTM" X="9948.056" Y="2641.283" Z="1317.263" TerminateWhen="Me.Z &lt;= 100" />
        </If>
        <If Condition="( Me.ZoneId == 141 ) &amp;&amp; ( Me.Z &lt; 100 )" >
            <!-- Teldrassil (Rut'theran Village) -->
            <CustomBehavior File="Message" Text="Running to use boat to SW" LogColor="CornflowerBlue" />

            <MoveTo X="8177.54" Y="1003.079" Z="6.646164" />

            <!-- Get on at Rut'theran Village, off at SW -->
            <CustomBehavior File="UseTransport" TransportId="176310"
                            WaitAtX="8177.54" WaitAtY="1003.079" WaitAtZ="6.646164"
                            GetOffX="-8642.001" GetOffY="1330.353" GetOffZ="5.232954"
                            StandOnX="8171.327" StandOnY="1005.99" StandOnZ="6.213342"
                            TransportStartX="8162.587" TransportStartY="1005.365" TransportStartZ="0.005638145"
                            TransportEndX="-8650.719" TransportEndY="1346.051" TransportEndZ="-0.0382334" />
        </If>

        <!-- CJ: Set Hearthstone for Worgens...
            When Worgens exit the starting area, they are 17+.  This can cause them to miss
            the "hearth setting" code in the 12-58 profile due to checkpointing.  So, we
            explicitly set the hearthstone here, before transferring control to the next profile.
        -->
        <If Condition="Me.HearthstoneAreaId != 5148">
            <CustomBehavior File="Message" Text="Moving to set hearth to SW Innkeeper" LogColor="Red" />
            <CustomBehavior File="InteractWith" MobId="6740" InteractByGossipOptions="1"
                            X="-8867.786" Y="673.6729" Z="97.90324" />
            <CustomBehavior File="RunMacro"
                            Macro="/run for i=1,GetNumQuestLogEntries() do SelectQuestLogEntry(i); SetAbandonQuest(); AbandonQuest(); end" />
        </If>

        <CustomBehavior File="LoadProfile" ProfileName="..\[A - Quest] EK 12-58 [Kick]" RememberProfile="true" />

    </QuestOrder>

</HBProfile>
